<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- Mybatis mapper for SysResource  Auto generated by fms-mybatis-generator -->
<mapper namespace="com.arc.zero.mapper.system.SysResourceMapper">
    <resultMap id="sysResource" type="com.arc.model.domain.system.SysResource">
        <id property="id" column="resource_id" javaType="string" jdbcType="VARCHAR"/>
        <result property="method" column="resource_method" javaType="string" jdbcType="VARCHAR"/>
        <result property="note" column="resource_note" javaType="string" jdbcType="VARCHAR"/>
        <result property="parentId" column="resource_parent_id" javaType="string" jdbcType="VARCHAR"/>
        <result property="path" column="resource_path" javaType="string" jdbcType="VARCHAR"/>
        <result property="priority" column="resource_priority" javaType="int" jdbcType="INTEGER"/>
        <result property="resourceName" column="resource_resource_name" javaType="string" jdbcType="VARCHAR"/>
        <result property="type" column="resource_type" javaType="string" jdbcType="VARCHAR"/>
        <result property="createDate" column="resource_create_date" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="updateDate" column="resource_update_date" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
    </resultMap>

    <sql id="sqlSysResourceColumns">
		resource_.create_date AS resource_create_date,
		resource_.id AS resource_id,
		resource_.method AS resource_method,
		resource_.note AS resource_note,
		resource_.parent_id AS resource_parent_id,
		resource_.path AS resource_path,
		resource_.priority AS resource_priority,
		resource_.resource_name AS resource_resource_name,
		resource_.type AS resource_type,
		resource_.update_date AS resource_update_date
	</sql>

    <delete id="delete" parameterType="string">
        DELETE FROM  t_sys_resource
        WHERE  id = #{id,jdbcType=VARCHAR}

    </delete>

    <select id="get" parameterType="string" resultMap="sysResource">
        SELECT
        <include refid="sqlSysResourceColumns"/>
        FROM t_sys_resource resource_
        WHERE resource_.id = #{id,jdbcType=VARCHAR}
    </select>

    <select id="list" resultMap="sysResource">
        SELECT
        <include refid="sqlSysResourceColumns"/>
        FROM t_sys_resource resource_
    </select>

    <insert id="save" parameterType="com.arc.model.domain.system.SysResource" useGeneratedKeys="true" keyProperty="id">
		INSERT INTO t_sys_resource (
			create_date,
			method,
			note,
			parent_id,
			path,
			priority,
			resource_name,
			type,
			update_date
		)
        VALUES (
			#{createDate,jdbcType=TIMESTAMP},
			#{method,jdbcType=VARCHAR},
			#{note,jdbcType=VARCHAR},
			#{parentId,jdbcType=VARCHAR},
			#{path,jdbcType=VARCHAR},
			#{priority,jdbcType=INTEGER},
			#{resourceName,jdbcType=VARCHAR},
			#{type,jdbcType=VARCHAR},
			#{updateDate,jdbcType=TIMESTAMP}
		)
	</insert>

    <update id="update" parameterType="com.arc.model.domain.system.SysResource">
        UPDATE t_sys_resource
        <set>
            <if test="createDate != null">create_date = #{createDate,jdbcType=TIMESTAMP},</if>
            <if test="method != null and method != ''">method = #{method,jdbcType=VARCHAR},</if>
            <if test="note != null and note != ''">note = #{note,jdbcType=VARCHAR},</if>
            <if test="parentId != null and parentId != ''">parent_id = #{parentId,jdbcType=VARCHAR},</if>
            <if test="path != null and path != ''">path = #{path,jdbcType=VARCHAR},</if>
            <if test="priority != null">priority = #{priority,jdbcType=INTEGER},</if>
            <if test="resourceName != null and resourceName != ''">resource_name = #{resourceName,jdbcType=VARCHAR},
            </if>
            <if test="type != null and type != ''">type = #{type,jdbcType=VARCHAR},</if>
            <if test="updateDate != null">update_date = #{updateDate,jdbcType=TIMESTAMP},</if>
        </set>
        WHERE id = #{id,jdbcType=VARCHAR}
    </update>

</mapper>
